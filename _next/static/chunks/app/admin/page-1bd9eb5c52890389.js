(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{940:function(e,t,a){Promise.resolve().then(a.bind(a,2598))},2598:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return W}});var n=a(7437),i=a(2265),s=a(8050),r=a(1759),l=a(2745),o=a(4774),c=a(3128),u=a(9314),d=a(257);let m=(d.env.NEXT_PUBLIC_BASE_PATH||"").replace(/\/+$/,""),h=d.env.NEXT_PUBLIC_BACKEND_URL||"",p=d.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID||"",g="".concat(m,"/data/noticias/news-list.json"),b="arc_admin_google_id_token",x="Tu sesi\xf3n de Google expir\xf3. Vuelve a iniciar sesi\xf3n para continuar.",_={slug:"",bannerImagePath:"",otherImagePaths:[],hasBannerButton:!1,hasArticleButton:!1,bannerButtonLink:"",articleButtonLink:""},f={bannerTitle1:"",bannerTitle2:"",bannerSubtitle:"",bannerButtonText:"",date:"",articleTitle:"",articleParagraphsText:"",articleButtonText:""},j={bannerTitle1:!1,bannerTitle2:!1,bannerSubtitle:!1,bannerButtonText:!1,date:!1,articleTitle:!1,articleParagraphsText:!1,articleButtonText:!1};function B(e){return(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function v(e){return e&&Array.isArray(e.es)&&Array.isArray(e.en)?{es:e.es,en:e.en}:Array.isArray(null==e?void 0:e.es)?{es:e.es,en:[]}:Array.isArray(e)?{es:e,en:[]}:Array.isArray(null==e?void 0:e.posts)?{es:e.posts,en:[]}:{es:[],en:[]}}function N(e){return(null==e?void 0:e.articleTitle)||(null==e?void 0:e.bannerTitle2)||(null==e?void 0:e.id)||"Sin titulo"}function T(e){return(e||"").split("\n").map(e=>e.trim()).filter(Boolean)}function y(e){return(e||"").trim().replace(/\s+/g,"-")}function w(e,t){return"/news/".concat(e,"/").concat(y(t))}function S(e){let t=String(e||"");if(!t||!/[ÃÂâð]/.test(t))return t;try{let e=Uint8Array.from([...t].map(e=>255&e.charCodeAt(0)));return new TextDecoder("utf-8").decode(e)||t}catch(e){return t}}function C(e){let t=S(String(e||"").trim());return t?t.startsWith("blob:")||t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")||t.startsWith("/news/")?t:m&&t.startsWith("/")&&!t.startsWith("".concat(m,"/"))&&t!==m?"".concat(m).concat(t):t:""}function k(e){let t=String(e||"").trim();return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("mailto:")||t.startsWith("tel:")||t.startsWith("/")||t.startsWith("#")?t:t.startsWith("//")?"https:".concat(t):"https://".concat(t):""}function A(e){return{es:Array.isArray(null==e?void 0:e.es)?e.es.map(e=>({...e})):[],en:Array.isArray(null==e?void 0:e.en)?e.en.map(e=>({...e})):[]}}async function E(e,t){let a=new Map;for(let n of Array.isArray(null==e?void 0:e.es)?e.es:[]){let e=String((null==n?void 0:n.id)||"").trim();if(!e)continue;let i=t.get(e);if(!i)continue;let s=[i.bannerImageFile||null,...Array.isArray(i.otherImageFiles)?i.otherImageFiles:[]].filter(Boolean);if(0===s.length)continue;let r=new Set((Array.isArray(n.images)?n.images:[]).map(e=>S(String(e||"").trim())));for(let t of s){let n=w(e,t.name);r.has(n)&&a.set(n,t)}}let n=Array.from(a.entries());return await Promise.all(n.map(async e=>{let[t,a]=e,n=await new Promise((e,t)=>{let n=new FileReader;n.onload=()=>e(String(n.result||"")),n.onerror=()=>t(Error("No se pudo leer el archivo ".concat((null==a?void 0:a.name)||""))),n.readAsDataURL(a)}),i=n.indexOf(","),s=i>=0?n.slice(i+1):"";return{path:t,fileName:y(a.name),mimeType:a.type||"application/octet-stream",size:Number(a.size||0),lastModified:Number(a.lastModified||0),contentBase64:s}}))}function P(){return(0,n.jsx)("small",{className:"admin-page__required-tag",children:"(requerido)"})}function L(e){let{label:t,enabled:a,onToggle:i}=e;return(0,n.jsxs)("div",{className:"admin-page__switch-row",children:[(0,n.jsx)("span",{className:"admin-page__switch-label",children:t}),(0,n.jsxs)("button",{type:"button",className:"admin-page__switch ".concat(a?"admin-page__switch--on":""),onClick:i,"aria-pressed":a,children:[(0,n.jsx)("span",{className:"admin-page__switch-track",children:(0,n.jsx)("span",{className:"admin-page__switch-thumb"})}),(0,n.jsx)("span",{className:"admin-page__switch-text",children:a?"S\xed Incluir":"No incluir"})]})]})}function I(e){if(!e)return"";try{let t=JSON.parse(e);return(null==t?void 0:t.error)||(null==t?void 0:t.message)||e}catch(t){return e}}function F(e,t){let a=String(e||"").toLowerCase();return 401===t||403===t||a.includes("token used too late")||a.includes("jwt expired")||a.includes("expired")||a.includes("invalid token")?x:a.includes("forbidden")||a.includes("not authorized")||a.includes("not allowed")?"Tu cuenta no est\xe1 autorizada para usar este panel.":"No se pudo validar tu sesi\xf3n. Inicia sesi\xf3n de nuevo."}async function R(e,t){let a=(e||"").trim();if(!a)return"";if(t.has(a))return t.get(a);try{var n;let e=await fetch("https://api.mymemory.translated.net/get?q=".concat(encodeURIComponent(a),"&langpair=es|en"));if(!e.ok)return t.set(a,a),a;let i=await e.json(),s=((null==i?void 0:null===(n=i.responseData)||void 0===n?void 0:n.translatedText)||"").trim()||a;return t.set(a,s),s}catch(e){return t.set(a,a),a}}function W(){var e;let[t,d]=(0,i.useState)(""),[m,y]=(0,i.useState)("logged_out"),[W,q]=(0,i.useState)(""),[z,U]=(0,i.useState)({es:[],en:[]}),[O,M]=(0,i.useState)({es:[],en:[]}),[Z,D]=(0,i.useState)(!1),[J,G]=(0,i.useState)(!1),[X,H]=(0,i.useState)(!1),[V,K]=(0,i.useState)(""),[Y,$]=(0,i.useState)(""),[Q,ee]=(0,i.useState)(""),[et,ea]=(0,i.useState)("es"),[en,ei]=(0,i.useState)(_),[es,er]=(0,i.useState)(f),[el,eo]=(0,i.useState)(f),[ec,eu]=(0,i.useState)(j),[ed,em]=(0,i.useState)(null),[eh,ep]=(0,i.useState)([]),[eg,eb]=(0,i.useState)(""),[ex,e_]=(0,i.useState)([]),[ef,ej]=(0,i.useState)(""),[eB,ev]=(0,i.useState)(null),[eN,eT]=(0,i.useState)(null),ey=(0,i.useRef)(null),ew=(0,i.useRef)(null),eS=(0,i.useRef)(null),eC=(0,i.useRef)(null),ek=(0,i.useRef)(!1),eA=(0,i.useRef)(new Map),eE=(0,i.useRef)(0),eP=(0,i.useRef)(null),eL=(0,i.useRef)(new Map),eI="authorized"===m,eF=(0,i.useCallback)(e=>{var t;null===(t=ew.current)||void 0===t||t.show(e)},[]),eR=(0,i.useCallback)(()=>{var e;null===(e=ew.current)||void 0===e||e.clear()},[]),eW=(0,i.useCallback)(()=>{d(""),y("logged_out"),q(""),U({es:[],en:[]}),K(""),$(""),window.sessionStorage.removeItem(b)},[]),eq=(0,i.useCallback)(e=>{eW(),y("logged_out"),q(e)},[eW]),ez=(0,i.useCallback)(async()=>{D(!0),$("");try{let e=null;if(h){let t=await fetch("".concat(h,"/news"),{cache:"no-store"});if(!t.ok){let e=await t.text().catch(()=>"");throw Error(I(e)||"No se pudo cargar las noticias (".concat(t.status,")"))}let a=await t.json().catch(()=>({}));e=v((null==a?void 0:a.posts)||a)}else{let t=await fetch(g,{cache:"no-store"});if(t.ok){let a=await t.json();e=v(a)}else if(404===t.status){let t=await a.e(50).then(a.t.bind(a,5050,19)),n=(null==t?void 0:t.default)||t;e=v(n)}else throw Error("No se pudo cargar las noticias (".concat(t.status,")"))}U(e),M(A(e))}catch(e){$(e.message||"No se pudo cargar las noticias"),eF({severity:"error",summary:"Error al cargar",detail:e.message||"No se pudo cargar las noticias",life:4200})}finally{D(!1)}},[eF]),eU=(0,i.useCallback)(async e=>{if(!h)return y("error"),q("Falta NEXT_PUBLIC_BACKEND_URL"),!1;try{let t=await fetch("".concat(h,"/auth/test"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});if(401===t.status||403===t.status){let e=await t.text().catch(()=>"");return eq(F(e,t.status)),!1}if(!t.ok){let e=await t.text(),a=I(e);throw Error(a||"Fallo la autorizacion")}return y("authorized"),q(""),!0}catch(e){return eq(F(e.message)),!1}},[eq]),eO=(0,i.useCallback)(()=>{window.google&&ey.current&&(ek.current||(window.google.accounts.id.initialize({client_id:p,callback:async e=>{let t=null==e?void 0:e.credential;t&&(d(t),window.sessionStorage.setItem(b,t),await eU(t)&&await ez())}}),ek.current=!0),ey.current.innerHTML="",window.google.accounts.id.renderButton(ey.current,{theme:"outline",size:"large",width:260}))},[ez,eU]);(0,i.useEffect)(()=>{if(!p){y("error"),q("Falta NEXT_PUBLIC_GOOGLE_CLIENT_ID");return}let e=window.sessionStorage.getItem(b);e&&(d(e),eU(e).then(e=>{e&&ez()}));let t=document.querySelector('script[data-gis-client="1"]');return t||((t=document.createElement("script")).src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,t.setAttribute("data-gis-client","1"),document.body.appendChild(t)),t.addEventListener("load",eO),eO(),()=>{t.removeEventListener("load",eO)}},[ez,eO,eU]),(0,i.useEffect)(()=>{eI||eO()},[eI,eO]),(0,i.useEffect)(()=>(eP.current&&clearTimeout(eP.current),eP.current=setTimeout(async()=>{let e=++eE.current,t=eA.current,a={};if(ec.bannerTitle1||(a.bannerTitle1=await R(es.bannerTitle1,t)),ec.bannerTitle2||(a.bannerTitle2=await R(es.bannerTitle2,t)),ec.bannerSubtitle||(a.bannerSubtitle=await R(es.bannerSubtitle,t)),ec.date||(a.date=await R(es.date,t)),ec.articleTitle||(a.articleTitle=await R(es.articleTitle,t)),ec.bannerButtonText||(a.bannerButtonText=await R(es.bannerButtonText,t)),ec.articleButtonText||(a.articleButtonText=await R(es.articleButtonText,t)),!ec.articleParagraphsText){let e=(es.articleParagraphsText||"").split("\n"),n=await Promise.all(e.map(e=>R(e,t)));a.articleParagraphsText=n.join("\n")}e===eE.current&&eo(e=>({...e,...a}))},350),()=>{eP.current&&clearTimeout(eP.current)}),[es,ec]);let eM=(0,i.useMemo)(()=>B(en.slug.trim())||"nueva-noticia",[en.slug]);(0,i.useEffect)(()=>{ei(e=>{let t=ed?w(eM,ed.name):eB?e.bannerImagePath:"",a=eh.length>0?eh.map(e=>w(eM,e.name)):eB?e.otherImagePaths:[];return e.bannerImagePath===t&&e.otherImagePaths===a?e:{...e,bannerImagePath:t,otherImagePaths:a}})},[ed,eB,eM,eh]),(0,i.useEffect)(()=>{if(!ed){eb("");return}let e=URL.createObjectURL(ed);return eb(e),()=>URL.revokeObjectURL(e)},[ed]),(0,i.useEffect)(()=>{if(0===eh.length){e_([]);return}let e=eh.map(e=>URL.createObjectURL(e));return e_(e),()=>e.forEach(e=>URL.revokeObjectURL(e))},[eh]);let eZ=(0,i.useMemo)(()=>"".concat(z.es.length," noticia(s)"),[z.es.length]),eD=(0,i.useMemo)(()=>{let e=new Map((O.es||[]).map(e=>[e.id,e])),t=new Map((z.es||[]).map(e=>[e.id,e])),a=new Set,n=[],i=[];for(let t of z.es||[]){let i=e.get(t.id);i&&function(e,t){let a=e=>{if(!e||"object"!=typeof e)return{};let t={};return Object.keys(e).forEach(a=>{a.startsWith("_")||(t[a]=e[a])}),t};return JSON.stringify(a(e))===JSON.stringify(a(t))}(t,i)||(a.add(t.id),n.push(t))}let s=0;for(let e of O.es||[])t.has(e.id)||(s+=1,i.push(e.id));return{unpublishedIds:a,changedPosts:n,deletedIds:i,deletedCount:s,hasPending:n.length>0||s>0}},[O.es,z.es]),eJ=Y?"admin-page__message admin-page__message--error":"admin-page__message admin-page__message--success",eG=(0,i.useMemo)(()=>({shareNewButton:"es"===et?"Compartir noticia":"Share news",toasts:{shareNewTitle:"es"===et?"Enlace copiado":"Link copied",shareNewDescription:"es"===et?"El enlace de la noticia se copio.":"The news link was copied.",shareNewErrorTitle:"es"===et?"No se pudo copiar":"Could not copy",shareNewErrorDescription:"es"===et?"Puedes usar este enlace:":"You can use this link:"}}),[et]),eX=(0,i.useMemo)(()=>{let e="es"===et?es:el,t=B(en.slug.trim())||"preview-noticia",a=eg||C(en.bannerImagePath.trim()),n=[];a&&n.push(a);let i=ex.length>0?ex:(en.otherImagePaths||[]).map(e=>C(e));return i.length>0&&n.push(...i.filter(Boolean)),{id:t,className:t,bannerTitle1:e.bannerTitle1||("es"===et?"Titulo 1":"Title 1"),bannerTitle2:e.bannerTitle2||("es"===et?"Titulo 2":"Title 2"),bannerSubtitle:e.bannerSubtitle||("es"===et?"Subtitulo del banner":"Banner subtitle"),hasBannerButton:en.hasBannerButton,bannerButtonText:e.bannerButtonText,bannerButtonLink:en.bannerButtonLink,images:n,date:e.date||("es"===et?"Fecha":"Date"),articleTitle:e.articleTitle||("es"===et?"Titulo del articulo":"Article title"),articleParagraphs:T(e.articleParagraphsText).length?T(e.articleParagraphsText):["es"===et?"Aqui veras los parrafos de la noticia.":"You will see the article paragraphs here."],hasArticleButton:en.hasArticleButton,articleButtonText:e.articleButtonText,articleButtonLink:en.articleButtonLink}},[et,eg,el,es,ex,en]),eH=(0,i.useMemo)(()=>{var e;let t=(null===(e=eX.images)||void 0===e?void 0:e[0])||"";if(!t)return{srcWebp:"",srcPng:"",srcJpg:""};if(t.startsWith("blob:")||t.startsWith("data:"))return{srcWebp:"",srcPng:"",srcJpg:t};let a=t.toLowerCase();return a.endsWith(".webp")?{srcWebp:t,srcPng:"",srcJpg:t.replace(/\.webp$/i,".jpg")}:a.endsWith(".png")?{srcWebp:"",srcPng:t,srcJpg:""}:{srcWebp:"",srcPng:"",srcJpg:t}},[eX.images]),eV=(0,i.useCallback)(()=>{var e,t,a,n;let i=!!(null===(e=en.slug)||void 0===e?void 0:e.trim())||!!en.bannerImagePath||((null===(t=en.otherImagePaths)||void 0===t?void 0:t.length)||0)>0||!!(null===(a=en.bannerButtonLink)||void 0===a?void 0:a.trim())||!!(null===(n=en.articleButtonLink)||void 0===n?void 0:n.trim())||en.hasBannerButton||en.hasArticleButton,s=Object.values(es).some(e=>""!==String(e||"").trim()),r=Object.values(el).some(e=>""!==String(e||"").trim()),l=!!ed||eh.length>0;return i||s||r||l},[ed,el,es,eh.length,en]),eK=(0,i.useCallback)(()=>({sharedForm:{...en},esForm:{...es},enForm:{...el},enTouched:{...ec},bannerImageFile:ed,otherImageFiles:[...eh],otherImagesNotice:ef,activeLang:et}),[et,ed,el,ec,es,eh,ef,en]),eY=(0,i.useCallback)(e=>{e&&(ei(e.sharedForm||_),er(e.esForm||f),eo(e.enForm||f),eu(e.enTouched||j),em(e.bannerImageFile||null),ep(e.otherImageFiles||[]),ej(e.otherImagesNotice||""),ea(e.activeLang||"es"))},[]),e$=(0,i.useCallback)(()=>{eS.current&&(eS.current.value=""),eC.current&&(eC.current.value="")},[]),eQ=(0,i.useCallback)(e=>{let t=z.es.find(t=>t.id===e);if(!t)return;let a=z.en.find(t=>t.id===e)||t;!eB&&eV()?eT(eK()):eB||eT(null);let[n="",...i]=(Array.isArray(t.images)?t.images:[]).map(e=>S(e)),s=eL.current.get(e);ev(e),eb(""),e_([]),ei({slug:t.id||"",bannerImagePath:n,otherImagePaths:i,hasBannerButton:!!t.hasBannerButton,hasArticleButton:!!t.hasArticleButton,bannerButtonLink:t.bannerButtonLink||"",articleButtonLink:t.articleButtonLink||""}),er({bannerTitle1:t.bannerTitle1||"",bannerTitle2:t.bannerTitle2||"",bannerSubtitle:t.bannerSubtitle||"",bannerButtonText:t.bannerButtonText||"",date:t.date||"",articleTitle:t.articleTitle||"",articleParagraphsText:Array.isArray(t.articleParagraphs)?t.articleParagraphs.join("\n"):"",articleButtonText:t.articleButtonText||""}),eo({bannerTitle1:a.bannerTitle1||"",bannerTitle2:a.bannerTitle2||"",bannerSubtitle:a.bannerSubtitle||"",bannerButtonText:a.bannerButtonText||"",date:a.date||"",articleTitle:a.articleTitle||"",articleParagraphsText:Array.isArray(a.articleParagraphs)?a.articleParagraphs.join("\n"):"",articleButtonText:a.articleButtonText||""}),eu({bannerTitle1:!0,bannerTitle2:!0,bannerSubtitle:!0,bannerButtonText:!0,date:!0,articleTitle:!0,articleParagraphsText:!0,articleButtonText:!0}),em((null==s?void 0:s.bannerImageFile)||null),ep((null==s?void 0:s.otherImageFiles)||[]),ej(""),ee(""),e$()},[e$,eB,eV,z.en,z.es,eK]),e0=()=>{ei(_),em(null),ep([]),eb(""),e_([]),ej(""),er(f),eo(f),eu(j),ee(""),ea("es"),ev(null),eT(null),e$()},e1=(e,t)=>{(0,c.V)({group:"admin-clear-form",header:"Eliminar noticia",message:(0,n.jsxs)("div",{className:"admin-confirm-dialog__content",children:[(0,n.jsx)("i",{className:"pi pi-exclamation-triangle admin-confirm-dialog__icon"}),(0,n.jsxs)("span",{className:"admin-confirm-dialog__text",children:["\xbfEliminar ",t||"esta noticia","?"]})]}),acceptLabel:"S\xed, eliminar",rejectLabel:"Cancelar",accept:()=>e4(e),reject:()=>{}})},e2=async e=>{e.preventDefault(),ee("");let t=B(en.slug.trim()),a=en.bannerImagePath.trim(),n=en.otherImagePaths||[],i=es.bannerTitle1.trim(),s=es.bannerTitle2.trim(),r=es.bannerSubtitle.trim(),l=es.date.trim(),o=es.articleTitle.trim(),c=T(es.articleParagraphsText),u=es.bannerButtonText.trim(),d=es.articleButtonText.trim(),m=k(en.bannerButtonLink),h=k(en.articleButtonLink),p=el.bannerTitle1.trim(),g=el.bannerTitle2.trim(),b=el.bannerSubtitle.trim(),x=el.date.trim(),_=el.articleTitle.trim(),f=T(el.articleParagraphsText),j=el.bannerButtonText.trim(),v=el.articleButtonText.trim();if(!t||!a){ee("Slug e imagen principal son obligatorios.");return}if(!i||!s||!r||!l||!o||0===c.length){ee("Completa todos los campos obligatorios en ES.");return}if(!p||!g||!b||!x||!_||0===f.length){ee("Completa todos los campos obligatorios en EN.");return}if(en.hasBannerButton&&(!u||!j)){ee("Completa el texto del boton del banner en ES y EN.");return}if(en.hasBannerButton&&!m){ee("Completa el link del boton del banner.");return}if(en.hasArticleButton&&(!d||!v)){ee("Completa el texto del boton del articulo en ES y EN.");return}if(en.hasArticleButton&&!h){ee("Completa el link del boton del articulo.");return}if(z.es.some(e=>e.id===t&&e.id!==eB)){ee("Ya existe una noticia con ese slug/id.");return}H(!0),K(""),$("");let N=[a,...n.filter(Boolean)];ed||eh.length>0?eL.current.set(t,{bannerImageFile:ed||null,otherImageFiles:[...eh]}):eL.current.delete(t),eB&&eB!==t&&eL.current.delete(eB);let y={id:t,className:t,bannerTitle1:i,bannerTitle2:s,bannerSubtitle:r,hasBannerButton:en.hasBannerButton,bannerButtonText:en.hasBannerButton?u:"",bannerButtonLink:en.hasBannerButton?m:"",images:N,date:l,articleTitle:o,articleParagraphs:c,hasArticleButton:en.hasArticleButton,articleButtonText:en.hasArticleButton?d:"",articleButtonLink:en.hasArticleButton?h:""},w={id:t,className:t,bannerTitle1:p,bannerTitle2:g,bannerSubtitle:b,hasBannerButton:en.hasBannerButton,bannerButtonText:en.hasBannerButton?j:"",bannerButtonLink:en.hasBannerButton?m:"",images:[...N],date:x,articleTitle:_,articleParagraphs:f,hasArticleButton:en.hasArticleButton,articleButtonText:en.hasArticleButton?v:"",articleButtonLink:en.hasArticleButton?h:""};eB?U(e=>({es:e.es.map(e=>e.id===eB?y:e),en:e.en.map(e=>e.id===eB?w:e)})):U(e=>({es:[y,...e.es],en:[w,...e.en]})),eR(),eF({severity:"success",summary:eB?"Noticia editada en lista local":"Noticia agregada a lista local",detail:"Se publicara en el sitio solo cuando hagas clic en Publicar.",life:3e3}),H(!1),eB?(ev(null),eT(null),eN?eY(eN):e0()):e0()},e4=async e=>{eL.current.delete(e),U(t=>({es:t.es.filter(t=>t.id!==e),en:t.en.filter(t=>t.id!==e)})),K(""),$(""),eR(),eF({severity:"warn",summary:"Noticia eliminada de lista local",detail:"El cambio se enviara al sitio cuando publiques.",life:3200})},e5=async()=>{if(!h){$("Falta NEXT_PUBLIC_BACKEND_URL"),eF({severity:"error",summary:"Error al publicar",detail:"Falta NEXT_PUBLIC_BACKEND_URL",life:4200});return}G(!0),K(""),$(""),eR(),eF({severity:"info",summary:"Publicando...",detail:"Enviando noticias al backend",sticky:!0});try{let e=await E(z,eL.current),a=eD.changedPosts.map(e=>e.id),n=[...eD.deletedIds],i=e.map(e=>e.path),s=new AbortController,r=setTimeout(()=>s.abort(),12e4),l=await fetch("".concat(h,"/publish"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},signal:s.signal,body:JSON.stringify({posts:z,images:e,publishMeta:{fullSnapshot:!0,changedPostIds:a,deletedPostIds:n,uploadedImagePaths:i}})});if(clearTimeout(r),401===l.status||403===l.status){let e=await l.text().catch(()=>""),t=F(e,l.status);eq(t),$(t),eR(),eF({severity:"error",summary:"Sesion invalida",detail:t,life:4200});return}let o=await l.text().catch(()=>""),c={};try{c=o?JSON.parse(o):{}}catch(e){c={}}if(!l.ok){let e=(null==c?void 0:c.error)||(null==c?void 0:c.message)||I(o)||"Fallo la publicacion (".concat(l.status,")"),t=F(e,l.status);if(t===x){eq(t),$(t),eR(),eF({severity:"error",summary:"Sesion invalida",detail:t,life:4200});return}throw Error(e)}K("Publicado. Commit: ".concat((null==c?void 0:c.commit)||"ok")),M(A(z)),eL.current.clear(),eR(),eF({severity:"success",summary:"Publicacion exitosa",detail:"Commit: ".concat((null==c?void 0:c.commit)||"ok"),life:3200}),setTimeout(()=>{ez()},1500)}catch(t){let e=(null==t?void 0:t.name)==="AbortError"?"La publicacion tardo demasiado y se cancelo. Revisa logs del backend o reduce el tamano de imagenes.":t.message||"Fallo la publicacion";$(e),eR(),eF({severity:"error",summary:"Error al publicar",detail:e,life:4200})}finally{G(!1)}};return(0,n.jsxs)("main",{className:"admin-page",children:[(0,n.jsx)(u.F,{ref:ew,appendTo:()=>document.body}),(0,n.jsx)(c.Q,{className:"confirm-dialog admin-confirm-dialog",group:"admin-clear-form",acceptLabel:"S\xed, limpiar",rejectLabel:"Cancelar",acceptClassName:"button button--primary",rejectClassName:"button button--transparent"}),(0,n.jsxs)("section",{className:"admin-page__shell",children:[(0,n.jsxs)("header",{className:"admin-page__header",children:[(0,n.jsx)("h1",{className:"admin-page__title",children:"Administrador"}),(0,n.jsx)("p",{className:"admin-page__subtitle",children:"Crea noticias con el formato oficial (ES/EN), revisa el texto en ingles y publica el JSON completo."})]}),eI?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"admin-page__card admin-page__card--top",children:[(0,n.jsxs)("div",{className:"admin-page__status",children:[(0,n.jsx)("strong",{children:eZ}),(0,n.jsx)("span",{className:"admin-page__badge ".concat(eD.hasPending?"admin-page__badge--dirty":""),children:eD.hasPending?"Cambios sin publicar":"Todo publicado"})]}),(0,n.jsxs)("div",{className:"admin-page__top-actions",children:[(0,n.jsx)("button",{className:"button button--secondary ".concat(eD.hasPending?"":"admin-page__publish-button--disabled"),type:"button",disabled:J||X||!eD.hasPending,onClick:()=>{(0,c.V)({group:"admin-clear-form",header:"Confirmar publicaci\xf3n",message:(0,n.jsxs)("div",{className:"admin-confirm-dialog__content admin-confirm-dialog__content--stacked",children:[(0,n.jsxs)("span",{className:"admin-confirm-dialog__text",children:["Est\xe1s a punto de publicar ",eD.changedPosts.length," noticia(s) modificada(s)",eD.deletedCount>0?" y ".concat(eD.deletedCount," eliminaci\xf3n(es)"):"",". Revisa el resumen:"]}),(0,n.jsxs)("ul",{className:"admin-confirm-dialog__list",children:[eD.changedPosts.map((e,t)=>(0,n.jsxs)("li",{className:"admin-confirm-dialog__list-item",children:[(0,n.jsx)("strong",{children:N(e)}),(0,n.jsx)("span",{children:(null==e?void 0:e.date)||"Sin fecha"})]},"publish-".concat(e.id,"-").concat(t))),eD.deletedCount>0?(0,n.jsxs)("li",{className:"admin-confirm-dialog__list-item",children:[(0,n.jsx)("strong",{children:"Noticias eliminadas"}),(0,n.jsx)("span",{children:eD.deletedCount})]},"publish-deleted-count"):null]})]}),acceptLabel:"S\xed, publicar",rejectLabel:"Cancelar",accept:e5,reject:()=>{}})},children:J?"Publicando...":"Publicar en el sitio"}),(0,n.jsx)("button",{className:"button button--transparent",type:"button",onClick:eW,children:"Cerrar sesion"})]}),V||Y?(0,n.jsxs)("div",{className:"admin-page__top-feedback",children:[V?(0,n.jsx)("span",{className:eJ,children:V}):null,Y?(0,n.jsx)("span",{className:eJ,children:Y}):null]}):null]}),(0,n.jsxs)("section",{className:"admin-page__card",children:[(0,n.jsx)("h2",{className:"admin-page__section-title",children:"Vista previa"}),(0,n.jsx)("p",{className:"admin-page__hint",children:"La vista previa usa el mismo componente visual del sitio para el idioma activo."}),(0,n.jsxs)("div",{className:"admin-page__preview",children:[(0,n.jsx)("div",{className:"news-section-carousel admin-page__preview-banner ".concat(eX.className||""),children:(0,n.jsx)("div",{className:"news-section-carousel__image-section",children:(0,n.jsxs)("div",{className:"news-section-carousel__slide",children:[(0,n.jsx)("div",{className:"news-section-carousel__parallax",children:(0,n.jsx)("div",{className:"news-section-carousel__parallax__layer",children:(0,n.jsx)(l.Z,{className:"news-section-carousel__slide__img news-section-carousel__parallax__img",srcWebp:eH.srcWebp,srcPng:eH.srcPng,srcJpg:eH.srcJpg,alt:"Imagen de ".concat(eX.articleTitle||"noticia"),width:800,height:600})})}),(0,n.jsx)("div",{className:"news-section-carousel__outline"}),(0,n.jsxs)("div",{className:"news-section-carousel__text",children:[(0,n.jsxs)("h4",{className:"news-section-carousel__text__title",children:[(0,n.jsx)("span",{children:eX.bannerTitle1}),(0,n.jsx)("span",{children:eX.bannerTitle2})]}),(0,n.jsx)("p",{className:"news-section-carousel__text__description",children:eX.bannerSubtitle}),eX.hasBannerButton?(0,n.jsx)(r.default,{className:"carousel__text__button",actionType:"redirect",onClick:eX.bannerButtonLink,label:eX.bannerButtonText,disabled:!eX.bannerButtonLink}):null]})]})})}),(null===(e=eX.images)||void 0===e?void 0:e.length)>1?(0,n.jsx)(o.Z,{images:eX.images.slice(1),onRemoveImage:e=>{ep(t=>t.filter((t,a)=>a!==e)),ei(t=>({...t,otherImagePaths:t.otherImagePaths.filter((t,a)=>a!==e)}))}}):null,(0,n.jsx)(s.Z,{slide:eX,dict:eG,lang:et})]})]}),(0,n.jsxs)("section",{className:"admin-page__card",children:[(0,n.jsxs)("div",{className:"admin-page__card-header",children:[(0,n.jsx)("h2",{className:"admin-page__section-title",children:eB?"en"===et?"Edit news":"Editar noticia":"en"===et?"Create news":"Crear noticia"}),(0,n.jsxs)("div",{className:"admin-page__lang-toggle",children:[(0,n.jsx)("button",{type:"button",className:"admin-page__lang-button ".concat("es"===et?"admin-page__lang-button--active":""),onClick:()=>ea("es"),children:"Espa\xf1ol (ES)"}),(0,n.jsx)("button",{type:"button",className:"admin-page__lang-button ".concat("en"===et?"admin-page__lang-button--active":""),onClick:()=>ea("en"),children:"English (EN)"})]})]}),(0,n.jsxs)("form",{onSubmit:e2,className:"admin-page__form",children:[(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Slug (id/className) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:en.slug,onChange:e=>ei(t=>({...t,slug:e.target.value})),required:!0,type:"text",placeholder:"cuento-infinito"})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Imagen principal (banner) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{ref:eS,required:!eB&&!en.bannerImagePath.trim(),type:"file",accept:"image/*",onChange:e=>{var t;let a=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;if(!a){em(null);return}if(!a.type.startsWith("image/")){ee("Solo se permiten archivos de imagen."),e.target.value="";return}ee(""),em(a)}}),eB&&en.bannerImagePath?(0,n.jsx)("small",{className:"admin-page__hint",children:"Usando imagen actual. Solo selecciona un archivo si deseas reemplazarla."}):null]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsx)("span",{children:"Otras imagenes"}),(0,n.jsxs)("div",{className:"admin-page__file-actions",children:[eh.length>0?(0,n.jsx)("button",{className:"button admin-page__danger-button",type:"button",onClick:()=>{ep([]),ej(""),ei(e=>({...e,otherImagePaths:[]}))},children:"Borrar"}):null,(0,n.jsx)("input",{ref:eC,type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(0!==t.length){if(t.some(e=>!e.type.startsWith("image/"))){ee("Solo se permiten archivos de imagen."),e.target.value="";return}ee(""),ep(e=>{let a=function(e,t,a){let n=new Map;for(let t of e)n.set(w(a,t.name),t);let i=0,s=0;for(let e of t){let t=w(a,e.name);if(n.has(t)){s+=1;continue}n.set(t,e),i+=1}return{files:Array.from(n.values()),added:i,skipped:s}}(e,t,eM);return a.skipped>0?ej("Se omitieron ".concat(a.skipped," archivo(s) con nombre repetido.")):ej(""),a.files})}}})]}),ef?(0,n.jsx)("small",{className:"admin-page__message admin-page__message--error",children:ef}):null]}),"es"===et?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["T\xedtulo Banner 1 (ES) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:es.bannerTitle1,onChange:e=>er(t=>({...t,bannerTitle1:e.target.value})),required:!0,type:"text"})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["T\xedtulo Banner 2 (ES) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:es.bannerTitle2,onChange:e=>er(t=>({...t,bannerTitle2:e.target.value})),required:!0,type:"text"})]}),(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Subt\xedtulo Banner (ES) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:es.bannerSubtitle,onChange:e=>er(t=>({...t,bannerSubtitle:e.target.value})),required:!0,type:"text"})]}),(0,n.jsxs)("div",{className:"admin-page__button-config admin-page__field--full",children:[(0,n.jsx)(L,{label:"Incluir bot\xf3n en banner",enabled:en.hasBannerButton,onToggle:()=>ei(e=>({...e,hasBannerButton:!e.hasBannerButton}))}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Texto (ES) ",en.hasBannerButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:es.bannerButtonText,onChange:e=>er(t=>({...t,bannerButtonText:e.target.value})),type:"text",required:en.hasBannerButton,disabled:!en.hasBannerButton})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Link (URL) ",en.hasBannerButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:en.bannerButtonLink,onChange:e=>ei(t=>({...t,bannerButtonLink:e.target.value})),type:"text",inputMode:"url",required:en.hasBannerButton,placeholder:"https://...",disabled:!en.hasBannerButton})]})]}),(0,n.jsx)("hr",{className:"admin-page__form-divider admin-page__field--full"}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Fecha (ES) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:es.date,onChange:e=>er(t=>({...t,date:e.target.value})),required:!0,type:"text",placeholder:"25 de abril, 2025"})]}),(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Titulo del articulo (ES) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:es.articleTitle,onChange:e=>er(t=>({...t,articleTitle:e.target.value})),required:!0,type:"text"})]}),(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Parrafos del articulo (ES, uno por linea) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("textarea",{rows:8,value:es.articleParagraphsText,onChange:e=>er(t=>({...t,articleParagraphsText:e.target.value})),required:!0})]}),(0,n.jsxs)("div",{className:"admin-page__button-config admin-page__field--full",children:[(0,n.jsx)(L,{label:"Incluir bot\xf3n en art\xedculo",enabled:en.hasArticleButton,onToggle:()=>ei(e=>({...e,hasArticleButton:!e.hasArticleButton}))}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Texto (ES) ",en.hasArticleButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:es.articleButtonText,onChange:e=>er(t=>({...t,articleButtonText:e.target.value})),type:"text",required:en.hasArticleButton,disabled:!en.hasArticleButton})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Link (URL) ",en.hasArticleButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:en.articleButtonLink,onChange:e=>ei(t=>({...t,articleButtonLink:e.target.value})),type:"text",inputMode:"url",required:en.hasArticleButton,placeholder:"https://...",disabled:!en.hasArticleButton})]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Banner title 1 (EN) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:el.bannerTitle1,onChange:e=>{eu(e=>({...e,bannerTitle1:!0})),eo(t=>({...t,bannerTitle1:e.target.value}))},required:!0,type:"text"})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Banner title 2 (EN) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:el.bannerTitle2,onChange:e=>{eu(e=>({...e,bannerTitle2:!0})),eo(t=>({...t,bannerTitle2:e.target.value}))},required:!0,type:"text"})]}),(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Banner subtitle (EN) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:el.bannerSubtitle,onChange:e=>{eu(e=>({...e,bannerSubtitle:!0})),eo(t=>({...t,bannerSubtitle:e.target.value}))},required:!0,type:"text"})]}),(0,n.jsxs)("div",{className:"admin-page__button-config admin-page__field--full",children:[(0,n.jsx)(L,{label:"Include banner button",enabled:en.hasBannerButton,onToggle:()=>ei(e=>({...e,hasBannerButton:!e.hasBannerButton}))}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Text (EN) ",en.hasBannerButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:el.bannerButtonText,onChange:e=>{eu(e=>({...e,bannerButtonText:!0})),eo(t=>({...t,bannerButtonText:e.target.value}))},type:"text",required:en.hasBannerButton,disabled:!en.hasBannerButton})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Link (URL) ",en.hasBannerButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:en.bannerButtonLink,onChange:e=>ei(t=>({...t,bannerButtonLink:e.target.value})),type:"text",inputMode:"url",required:en.hasBannerButton,placeholder:"https://...",disabled:!en.hasBannerButton})]})]}),(0,n.jsx)("hr",{className:"admin-page__form-divider admin-page__field--full"}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Date (EN) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:el.date,onChange:e=>{eu(e=>({...e,date:!0})),eo(t=>({...t,date:e.target.value}))},required:!0,type:"text",placeholder:"April 25, 2025"})]}),(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Article title (EN) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("input",{value:el.articleTitle,onChange:e=>{eu(e=>({...e,articleTitle:!0})),eo(t=>({...t,articleTitle:e.target.value}))},required:!0,type:"text"})]}),(0,n.jsxs)("label",{className:"admin-page__field admin-page__field--full",children:[(0,n.jsxs)("span",{children:["Article paragraphs (EN, one per line) ",(0,n.jsx)(P,{})]}),(0,n.jsx)("textarea",{rows:8,value:el.articleParagraphsText,onChange:e=>{eu(e=>({...e,articleParagraphsText:!0})),eo(t=>({...t,articleParagraphsText:e.target.value}))},required:!0})]}),(0,n.jsxs)("div",{className:"admin-page__button-config admin-page__field--full",children:[(0,n.jsx)(L,{label:"Include article button",enabled:en.hasArticleButton,onToggle:()=>ei(e=>({...e,hasArticleButton:!e.hasArticleButton}))}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Text (EN) ",en.hasArticleButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:el.articleButtonText,onChange:e=>{eu(e=>({...e,articleButtonText:!0})),eo(t=>({...t,articleButtonText:e.target.value}))},type:"text",required:en.hasArticleButton,disabled:!en.hasArticleButton})]}),(0,n.jsxs)("label",{className:"admin-page__field",children:[(0,n.jsxs)("span",{children:["Link (URL) ",en.hasArticleButton?(0,n.jsx)(P,{}):null]}),(0,n.jsx)("input",{value:en.articleButtonLink,onChange:e=>ei(t=>({...t,articleButtonLink:e.target.value})),type:"text",inputMode:"url",required:en.hasArticleButton,placeholder:"https://...",disabled:!en.hasArticleButton})]})]})]}),(0,n.jsxs)("div",{className:"admin-page__actions",children:[(0,n.jsx)("button",{className:"button button--primary",type:"submit",disabled:X,children:X?"Guardando...":eB?"en"===et?"Edit news":"Editar noticia":"Agregar a la lista local"}),eB?(0,n.jsx)("button",{className:"button button--transparent",type:"button",onClick:()=>{if(ev(null),eT(null),ee(""),eN){eY(eN);return}e0()},children:"en"===et?"Cancel edit":"Cancelar edici\xf3n"}):(0,n.jsx)("button",{className:"button button--transparent",type:"button",onClick:()=>{(0,c.V)({group:"admin-clear-form",header:"Limpiar formulario",message:(0,n.jsxs)("div",{className:"admin-confirm-dialog__content",children:[(0,n.jsx)("i",{className:"pi pi-exclamation-triangle admin-confirm-dialog__icon"}),(0,n.jsx)("span",{className:"admin-confirm-dialog__text",children:"\xbfSeguro que quieres limpiar el formulario? Se perder\xe1n los cambios no guardados."})]}),accept:e0,reject:()=>{}})},children:"Limpiar formulario"}),Q?(0,n.jsx)("span",{className:"admin-page__message admin-page__message--error",children:Q}):null]})]})]}),(0,n.jsxs)("section",{className:"admin-page__card",children:[(0,n.jsx)("h2",{className:"admin-page__section-title",children:"Noticias"}),Z?(0,n.jsx)("p",{className:"admin-page__hint",children:"Cargando noticias..."}):null,Z||0!==z.es.length?null:(0,n.jsx)("p",{className:"admin-page__hint",children:"No se encontraron noticias."}),(0,n.jsx)("ul",{className:"admin-page__list",children:z.es.map(e=>(0,n.jsxs)("li",{className:"admin-page__list-item ".concat(eD.unpublishedIds.has(e.id)?"admin-page__list-item--unpublished":""),children:[(0,n.jsxs)("div",{className:"admin-page__list-content",children:[eD.unpublishedIds.has(e.id)?(0,n.jsx)("small",{className:"admin-page__unpublished-tag",children:"Sin publicar"}):null,(0,n.jsx)("strong",{children:N(e)}),(0,n.jsx)("span",{children:(null==e?void 0:e.date)||"Sin fecha"}),(0,n.jsx)("p",{children:Array.isArray(null==e?void 0:e.articleParagraphs)&&e.articleParagraphs.length>0?e.articleParagraphs[0]:(null==e?void 0:e.bannerSubtitle)||""})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"0.5rem"},children:[(0,n.jsx)("button",{className:"button button--primary",type:"button",onClick:()=>eQ(e.id),children:"Editar"}),(0,n.jsx)("button",{className:"button button--transparent admin-page__delete",type:"button",onClick:()=>e1(e.id,N(e)),children:"Eliminar"})]})]},e.id))})]})]}):(0,n.jsxs)("section",{className:"admin-page__card",children:[(0,n.jsx)("p",{className:"admin-page__hint",children:"Inicia sesion con Google para continuar."}),(0,n.jsx)("div",{className:"admin-page__google-login",ref:ey}),W?(0,n.jsx)("p",{className:"admin-page__message admin-page__message--error",children:W}):null]})]})]})}},1759:function(e,t,a){"use strict";var n=a(7437),i=a(2265),s=a(718),r=a.n(s),l=a(5738),o=a(1928),c=a(8293),u=a(4246),d=a(8662),m=a(5887),h=a(5846),p=a(4938),g=a(9522),b=a(2735),x=a(8919),_=a(1303),f=a(9314);let j=e=>{let{label:t,onClick:a,type:s="button",className:r="",variable:j="primary",disabled:B=!1,icon:v,iconColor:N="#faf9f6",iconSize:T=18,actionType:y=""}=e,w=(0,i.useRef)(null),S={Ship:(0,n.jsx)(l.Z,{color:N,size:T}),HeartHandshake:(0,n.jsx)(o.Z,{color:N,size:T}),Menu:(0,n.jsx)(c.Z,{color:N,size:T}),Clapperboard:(0,n.jsx)(u.Z,{color:N,size:T}),Mic:(0,n.jsx)(d.Z,{color:N,size:T}),BookOpenText:(0,n.jsx)(m.Z,{color:N,size:T}),Lightbulb:(0,n.jsx)(h.Z,{color:N,size:T}),House:(0,n.jsx)(p.Z,{color:N,size:T}),CircleArrowLeft:(0,n.jsx)(g.Z,{color:N,size:T}),Download:(0,n.jsx)(b.Z,{color:N,size:T}),Share2:(0,n.jsx)(x.Z,{color:N,size:T}),Rotary:(0,n.jsx)("img",{style:{width:"18px",height:"18px"},src:"/socials/rotary-icon.svg",alt:"Rotary nut icon"})},C=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,k=e=>{let t=document.getElementById(e);if(!t)return;let a=window.scrollY,n=t.getBoundingClientRect().top+a-100-a,i=null,s=e=>{i||(i=e);let t=Math.min((e-i)/2e3,1),r=C(t);window.scrollTo(0,a+n*r),t<1&&requestAnimationFrame(s)};requestAnimationFrame(s)},A=e=>{let t=(e||"").trim();return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("mailto:")||t.startsWith("tel:")||t.startsWith("/")||t.startsWith("#")?t:t.startsWith("//")?"https:".concat(t):"https://".concat(t):""};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.F,{ref:w,appendTo:()=>{document.body}}),(0,n.jsxs)("button",{type:s,className:"button button--".concat(j," ").concat(r),onClick:()=>{if("redirect"===y&&"string"==typeof a){let e=A(a);e&&window.open(e,"_blank","noopener,noreferrer")}else if("navigate"===y&&"string"==typeof a){let e=A(a);e&&(window.location.href=e)}else"scrollTo"===y&&"string"==typeof a?k(a):"toast"===y?w.current.show({severity:a.severity,summary:a.summary,detail:a.detail}):"function"===y&&"function"==typeof a&&a()},disabled:B,children:[t,v?S[v]||(0,n.jsx)(_.Z,{color:N,size:T}):null]})]})};j.propTypes={label:r().string.isRequired,onClick:r().func,type:r().oneOf(["button","submit","reset"]),className:r().string,disabled:r().bool,icon:r().string,variable:r().string},t.default=j},2745:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var n=a(7437);function i(e){let{srcWebp:t,srcPng:a,srcJpg:i,alt:s="",className:r="",style:l={},width:o,height:c,...u}=e,d=i||a;return(0,n.jsxs)("picture",{style:{display:"contents"},children:[t&&(0,n.jsx)("source",{style:{display:"contents"},srcSet:t,type:"image/webp"}),d&&(0,n.jsx)("source",{style:{display:"contents"},srcSet:d,type:"image/jpeg"}),(0,n.jsx)("img",{src:d,alt:s,className:r,style:l,width:o,height:c,...u})]})}a(2265)},8050:function(e,t,a){"use strict";var n=a(7437),i=a(2265),s=a(1759),r=a(9314);t.Z=e=>{var t;let{slide:a,dict:l,lang:o}=e,c=(0,i.useRef)(null);return(0,n.jsxs)("article",{className:"new",id:"new-content",children:[(0,n.jsx)(r.F,{ref:c,appendTo:()=>{document.body}}),(0,n.jsx)("span",{className:"new__date",children:a.date}),(0,n.jsx)("h2",{className:"new__title",children:a.articleTitle}),(0,n.jsx)("p",{className:"new__content",children:(null===(t=a.articleParagraphs)||void 0===t?void 0:t.map((e,t)=>(0,n.jsx)("span",{className:"new__paragraph",children:e},t)))||(0,n.jsx)(n.Fragment,{})}),(0,n.jsxs)("div",{className:"new__footer",children:[a.hasArticleButton&&(0,n.jsx)(s.default,{className:"new__button",actionType:"redirect",onClick:a.articleButtonLink,label:a.articleButtonText,disabled:!a.articleButtonLink}),(0,n.jsx)(s.default,{variable:a.hasArticleButton?"transparent":"primary",label:l.shareNewButton,actionType:"function",onClick:()=>{let e="https://arcandinaoficial.org/".concat(o,"?new=").concat(a.id);navigator.clipboard.writeText(e).then(()=>{c.current.show({severity:"success",summary:l.toasts.shareNewTitle,detail:l.toasts.shareNewDescription})}).catch(t=>{c.current.show({severity:"warn",summary:l.toasts.shareNewErrorTitle,detail:"".concat(l.toasts.shareNewErrorDescription," ").concat(e),sticky:!0})})},icon:"Share2",iconColor:a.hasArticleButton?"#f58521":"#faf9f6",className:"new__footer__share-btn"})]})]})}},4774:function(e,t,a){"use strict";var n=a(7437),i=a(2265),s=a(1984),r=a(9467),l=a(4890),o=a(2745);let c={dragFree:!0,loop:!1};t.Z=e=>{let{images:t,onRemoveImage:a}=e,[u,d]=(0,r.Z)(c,[(0,s.Z)({delay:1500})]),[m,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)("");return(0,n.jsxs)("section",{className:"news-section-mini-carousel",children:[(0,n.jsx)("div",{className:"news-section-mini-carousel__viewport",ref:u,children:(0,n.jsx)("div",{className:"news-section-mini-carousel__container",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"news-section-mini-carousel__slide",children:["function"==typeof a?(0,n.jsx)("button",{type:"button",className:"news-section-mini-carousel__remove-btn",onClick:e=>{e.stopPropagation(),a(t)},"aria-label":"Eliminar imagen",title:"Eliminar imagen",children:"\xd7"}):null,(0,n.jsx)(o.Z,{srcWebp:e,srcJpg:null==e?void 0:e.replace(".webp",".jpg"),alt:"News image",className:"news-section-mini-carousel__slide__img",onClick:()=>{g(e),h(!0)}})]},t))})}),(0,n.jsx)(l.V,{className:"news-section-mini-carousel__dialog",header:"",visible:m,draggable:!1,onHide:()=>h(!1),resizable:!1,children:(0,n.jsx)("img",{src:p,alt:"News image",className:"news-section-mini-carousel__dialog__image"})})]})}}},function(e){e.O(0,[611,340,971,117,744],function(){return e(e.s=940)}),_N_E=e.O()}]);